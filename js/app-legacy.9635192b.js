(function(){"use strict";var e={9285:function(e,t,n){n(6992),n(8674),n(9601),n(7727);var r=n(8935),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Scene")],1)},o=[],c=n(2751),s=n(6133),a=n(796),d=n(7237),l=n(9726),u=(n(5003),n(1539),n(1299),n(3254)),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"scene",staticClass:"scene"},[n("Board",{attrs:{size:16}})],1)},h=[],p=n(3263),v=n(3796),m=(n(2222),n(6599)),g=n(3448);n(4916),n(3123),n(9714);function Z(e,t){return e.uuid+t.toString().split("").reduce((function(e,t){return e=(e<<5)-e+t.charCodeAt(0),e&e}),0)}var y=function(){function e(t,n){(0,s.Z)(this,e),(0,v.Z)(this,"listeners",{}),(0,v.Z)(this,"raycaster",new m.iMs),(0,v.Z)(this,"mouse",new m.FM8),(0,v.Z)(this,"camera",void 0),(0,v.Z)(this,"element",void 0),this.camera=t,this.element=n}return(0,c.Z)(e,[{key:"raycast",value:function(e,t,n){this.mouse.x=e.clientX/this.element.clientWidth*2-1,this.mouse.y=-e.clientY/this.element.clientHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);var r=this.raycaster.intersectObjects([t])[0];r&&n(e)}},{key:"on",value:function(e,t,n){var r=this;if(this.listeners[e]||(this.listeners[e]={}),t){var i=function(e){return r.raycast(e,t,n)},o=this.listeners[e],c=Z(t,n);o&&(o[c]=i,this.element.addEventListener(e,i))}}},{key:"off",value:function(e,t,n){if(t){var r=Z(t,n),i=this.listeners[e];if(i){var o=i[r];o&&(this.element.removeEventListener(e,o),i[r]=void 0)}}}}]),e}(),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(this.manager.board.grid[0].filter((function(e){return!e.filled})),(function(e){return n("Arrow",{key:e.x,attrs:{col:e.x}})})),e._l(this.manager.board.discs.slice(0,42),(function(e){return n("Disc",{key:e.id,attrs:{x:e.x,z:e.z,id:e.id,color:e.color,dropped:e.dropped}})}))],2)},b=[],x=n(6903),k=(n(9826),n(4553),function(){function e(){(0,s.Z)(this,e),(0,v.Z)(this,"discs",[]),(0,v.Z)(this,"grid",void 0),this.grid=this.createGrid(),this.discs.push({id:0,color:"RED",dropped:!1,x:0,z:-.14})}return(0,c.Z)(e,[{key:"createGrid",value:function(){for(var e=[],t=.02822279930114746,n=.0847,r=.0679,i=0;i<6;i++){e[i]=[];for(var o=0;o<7;o++)e[i].push({x:o*t-n,z:i*t-r,filled:!1})}return e}},{key:"isValidLocation",value:function(e){for(var t=this.grid.length-1;t>=0;t--){var n=this.grid[this.grid.length-1].findIndex((function(t){return t.x===e}));if(!this.grid[t][n].filled)return this.grid[t][n].filled=!0,this.grid[t][n]}return null}},{key:"getDiscById",value:function(e){return this.discs.find((function(t){return t.id===e}))}}]),e}()),$=function(){function e(){(0,s.Z)(this,e),(0,v.Z)(this,"board",void 0),this.board=new k}return(0,c.Z)(e,[{key:"drop",value:function(e){var t=this.board.isValidLocation(e);if(t){var n=this.getCurrentDisc();if(!n)return;n.x=t.x,n.z=t.z,n.dropped=!0,this.spawnNext(n)}}},{key:"spawnNext",value:function(e){this.board.discs.push({id:e.id+1,color:"RED"===e.color?"YELLOW":"RED",dropped:!1,x:0,z:-.14})}},{key:"getCurrentDisc",value:function(){return this.board.discs.find((function(e){return!e.dropped}))}}]),e}(),O=n(2932),R=n(7039),j=function(){var e=this,t=e.$createElement;e._self._c;return e._e()},z=[],P=(n(9653),function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":(0,l.Z)(Reflect))&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c}),D=function(e){(0,a.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,v.Z)((0,p.Z)(e),"col",void 0),(0,v.Z)((0,p.Z)(e),"model",void 0),(0,v.Z)((0,p.Z)(e),"$parent",void 0),e}return(0,c.Z)(n,[{key:"moveCurrentDisc",value:function(){try{var e=this.$parent.manager.getCurrentDisc();e&&e.model&&O.ZP.to(e.model.scene.position,{duration:2,ease:"elastic",x:this.col})}catch(t){console.log(t)}}}]),n}(u.w3);P([(0,u.fI)({type:Number,required:!0})],D.prototype,"col",void 0),D=P([(0,u.wA)({mounted:function(){var e=this;this.$nextTick((function(){e.$nextTick((function(){return e.$parent.gltfLoader.load("assets/arrow.glb",(function(t){e.model=t,e.model.scene.position.set(e.col,0,-.1),e.$parent.$parent.raycaster.on("pointermove",e.model.scene,e.moveCurrentDisc),e.$parent.$parent.raycaster.on("pointerdown",e.model.scene,(function(){return e.$parent.manager.drop(e.col)})),O.ZP.timeline({repeat:-1,yoyo:!0,defaults:{duration:.25}}).to(e.model.scene.position,{z:-.105}),e.$parent.model.scene.add(e.model.scene)}))}))}))},destroyed:function(){this.$parent.model.scene.remove(this.model.scene),this.$parent.$parent.raycaster.off("pointermove",this.model.scene,this.moveCurrentDisc)}})],D);var L=D,E=L,A=n(1001),_=(0,A.Z)(E,j,z,!1,null,null,null),C=_.exports,B=function(){var e=this,t=e.$createElement;e._self._c;return e._e()},I=[],N=function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":(0,l.Z)(Reflect))&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c};O.p8.registerPlugin(R.X);var T=function(e){(0,a.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,v.Z)((0,p.Z)(e),"color",void 0),(0,v.Z)((0,p.Z)(e),"id",void 0),(0,v.Z)((0,p.Z)(e),"x",void 0),(0,v.Z)((0,p.Z)(e),"z",void 0),(0,v.Z)((0,p.Z)(e),"dropped",void 0),(0,v.Z)((0,p.Z)(e),"model",void 0),(0,v.Z)((0,p.Z)(e),"$parent",void 0),e}return(0,c.Z)(n,[{key:"isDropped",value:function(){this.drop()}},{key:"drop",value:function(){O.p8.timeline({defaults:{duration:.5}}).to(this.model.scene.position,{duration:0,ease:"elastic",x:this.x}).to(this.model.scene.position,{x:this.x,z:this.z,duration:.5,ease:"bounce"})}}]),n}(u.w3);N([(0,u.fI)({type:String,required:!0})],T.prototype,"color",void 0),N([(0,u.fI)({type:Number,required:!0})],T.prototype,"id",void 0),N([(0,u.fI)({type:Number,required:!0})],T.prototype,"x",void 0),N([(0,u.fI)({type:Number,required:!0})],T.prototype,"z",void 0),N([(0,u.fI)({type:Boolean,required:!0})],T.prototype,"dropped",void 0),N([(0,u.RL)("dropped")],T.prototype,"isDropped",null),T=N([(0,u.wA)({mounted:function(){var e=this;this.$nextTick((function(){e.$nextTick((function(){return e.$parent.gltfLoader.load("assets/".concat(e.color.toLowerCase(),"-disc.glb"),(function(t){e.model=t;var n=e.$parent.manager.board.getDiscById(e.id);n&&(n.model=e.model),e.model.scene.position.x=e.x,e.model.scene.position.z=e.z,e.$parent.model.scene.add(e.model.scene)}))}))}))},destroyed:function(){this.$parent.model.scene.remove(this.model.scene)}})],T);var q=T,S=q,W=(0,A.Z)(S,B,I,!1,null,null,null),F=W.exports,M=function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":(0,l.Z)(Reflect))&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c};O.p8.registerPlugin(R.X);var H=function(e){(0,a.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,v.Z)((0,p.Z)(e),"gltfLoader",new x.E),(0,v.Z)((0,p.Z)(e),"manager",new $),(0,v.Z)((0,p.Z)(e),"model",void 0),(0,v.Z)((0,p.Z)(e),"disc",void 0),(0,v.Z)((0,p.Z)(e),"$parent",void 0),e}return(0,c.Z)(n,[{key:"generateBoard",value:function(){var e=this;this.$nextTick((function(){e.gltfLoader.load("assets/board.glb",(function(t){e.model=t,e.resetBoardPosition(),e.$parent.scene.add(t.scene)}))}))}},{key:"dropDisc",value:function(){O.p8.to(this.disc.scene.position,{ease:"bounce",z:.0725})}},{key:"resetBoardPosition",value:function(){this.model.scene.rotateX(Math.PI/2),this.model.scene.rotateY(0)}}]),n}(u.w3);H=M([(0,u.wA)({components:{Arrow:C,Disc:F},mounted:function(){this.generateBoard()},destroyed:function(){this.$parent.scene.remove(this.model.scene)}})],H);var X=H,Y=X,G=(0,A.Z)(Y,w,b,!1,null,null,null),V=G.exports,J=function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":(0,l.Z)(Reflect))&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},K=function(e){(0,a.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,v.Z)((0,p.Z)(e),"hemisphereLight",new m.vmT(11184810,0,.9)),(0,v.Z)((0,p.Z)(e),"directionalLight",new m.Ox3(16777215,.9)),(0,v.Z)((0,p.Z)(e),"ambientLight",new m.Mig(14452852,.5)),(0,v.Z)((0,p.Z)(e),"renderer",new m.CP7({alpha:!0,antialias:!0})),(0,v.Z)((0,p.Z)(e),"camera",void 0),(0,v.Z)((0,p.Z)(e),"controls",void 0),(0,v.Z)((0,p.Z)(e),"raycaster",void 0),(0,v.Z)((0,p.Z)(e),"scene",new m.xsS),e}return(0,c.Z)(n,[{key:"animate",value:function(){this.renderer.render(this.scene,this.camera),this.controls.update(),requestAnimationFrame(this.animate)}},{key:"onWindowResize",value:function(){this.camera&&this.renderer&&(this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight))}}]),n}(u.w3);K=J([(0,u.wA)({components:{Board:V},mounted:function(){this.camera=new m.cPb(90,window.innerWidth/window.innerHeight,.1,1e3),this.controls=new g.z(this.camera,this.renderer.domElement),this.raycaster=new y(this.camera,this.renderer.domElement),this.renderer.setSize(window.innerWidth,window.innerHeight),window.addEventListener("resize",this.onWindowResize,!1),this.scene.add(this.ambientLight,this.hemisphereLight,this.directionalLight),this.directionalLight.position.set(150,350,350),this.$refs.scene.appendChild(this.renderer.domElement),this.controls.enablePan=!1,this.camera.position.z=.25,this.animate()}})],K);var Q=K,U=Q,ee=(0,A.Z)(U,f,h,!1,null,"796e0bd0",null),te=ee.exports,ne=function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":(0,l.Z)(Reflect))&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},re=function(e){(0,a.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n)}(u.w3);re=ne([(0,u.wA)({components:{Scene:te}})],re);var ie=re,oe=ie,ce=(0,A.Z)(oe,i,o,!1,null,null,null),se=ce.exports,ae=n(563);(0,ae.z)("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),r.Z.config.productionTip=!1,new r.Z({render:function(e){return e(se)}}).$mount("#app")}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r](o,o.exports,n),o.loaded=!0,o.exports}n.m=e,function(){var e=[];n.O=function(t,r,i,o){if(!r){var c=1/0;for(l=0;l<e.length;l++){r=e[l][0],i=e[l][1],o=e[l][2];for(var s=!0,a=0;a<r.length;a++)(!1&o||c>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[a])}))?r.splice(a--,1):(s=!1,o<c&&(c=o));if(s){e.splice(l--,1);var d=i();void 0!==d&&(t=d)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,i,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,o,c=r[0],s=r[1],a=r[2],d=0;if(c.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(a)var l=a(n)}for(t&&t(r);d<c.length;d++)o=c[d],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},r=self["webpackChunkconnectfour"]=self["webpackChunkconnectfour"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(9285)}));r=n.O(r)})();
//# sourceMappingURL=app-legacy.9635192b.js.map